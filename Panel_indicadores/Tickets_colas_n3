--SISN2 Problemas
SELECT count(TICKET.tn)

FROM TICKET
JOIN CENTRO ON TICKET.centro = CENTRO.id
JOIN QUEUE ON TICKET.queue_id = QUEUE.id
JOIN SERVICE ON TICKET.service_id = SERVICE.id
JOIN TICKET_PRIORITY ON TICKET.ticket_priority_id = TICKET_PRIORITY.id
JOIN TICKET_STATE ON TICKET.ticket_state_id = TICKET_STATE.id
JOIN TICKET_TYPE ON TICKET.type_id = TICKET_TYPE.id

WHERE

TICKET_TYPE.id = '5'
AND QUEUE.id in ('5')

-- SISN2 Incidencias
SELECT count(TICKET.tn)

FROM TICKET
JOIN CENTRO ON TICKET.centro = CENTRO.id
JOIN QUEUE ON TICKET.queue_id = QUEUE.id
JOIN SERVICE ON TICKET.service_id = SERVICE.id
JOIN TICKET_PRIORITY ON TICKET.ticket_priority_id = TICKET_PRIORITY.id
JOIN TICKET_STATE ON TICKET.ticket_state_id = TICKET_STATE.id
JOIN TICKET_TYPE ON TICKET.type_id = TICKET_TYPE.id

WHERE

TICKET_TYPE.id = '2'
AND QUEUE.id in ('5')

-- SISN2 Petición de Servicio
SELECT count(TICKET.tn)

FROM TICKET
JOIN CENTRO ON TICKET.centro = CENTRO.id
JOIN QUEUE ON TICKET.queue_id = QUEUE.id
JOIN SERVICE ON TICKET.service_id = SERVICE.id
JOIN TICKET_PRIORITY ON TICKET.ticket_priority_id = TICKET_PRIORITY.id
JOIN TICKET_STATE ON TICKET.ticket_state_id = TICKET_STATE.id
JOIN TICKET_TYPE ON TICKET.type_id = TICKET_TYPE.id

WHERE

TICKET_TYPE.id = '3'
AND QUEUE.id in ('5')

-- SISN2 Petición Mejora/Cambio
SELECT count(TICKET.tn)

FROM TICKET
JOIN CENTRO ON TICKET.centro = CENTRO.id
JOIN QUEUE ON TICKET.queue_id = QUEUE.id
JOIN SERVICE ON TICKET.service_id = SERVICE.id
JOIN TICKET_PRIORITY ON TICKET.ticket_priority_id = TICKET_PRIORITY.id
JOIN TICKET_STATE ON TICKET.ticket_state_id = TICKET_STATE.id
JOIN TICKET_TYPE ON TICKET.type_id = TICKET_TYPE.id

WHERE

TICKET_TYPE.id in ('8', '10')
AND QUEUE.id in ('5')
